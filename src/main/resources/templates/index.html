<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OfferVerdict - Should I Take The Job?</title>
    <meta name="description"
        content="Stop guessing. Start knowing. Calculate the real value of your job offer with taxes, rent, and cost of living accounted for.">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">

    <!-- Unified Design System -->
    <link rel="stylesheet" href="/css/tokens.css">
    <link rel="stylesheet" href="/css/core.css">
    <link rel="stylesheet" href="/css/index.css">
    <link rel="stylesheet" href="/css/autocomplete.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Libre+Baskerville:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Analytics -->
    <div th:replace="~{fragments/analytics :: analytics}"></div>

</head>

<body>
    <div class="landing-container">
        <!-- Global Navigation (Overlay) -->
        <nav class="landing-nav">
            <div class="nav-content">
                <a href="/" class="nav-logo">
                    <img src="/favicon.svg" alt="OfferVerdict Logo"
                        style="height: 24px; width: 24px; margin-right: 8px;">
                    OfferVerdict
                </a>
                <div class="nav-links">
                    <a href="/about" class="nav-link">About</a>
                    <!-- <a href="/blog" class="nav-link">Blog</a> -->
                </div>
            </div>
        </nav>

        <!-- Left Split: Visual & Story -->
        <div class="split-left">
            <div class="hero-background">
                <svg width="800" height="500" viewBox="0 0 800 500" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <!-- Brighter Data Halftone -->
                        <pattern id="halftone" x="0" y="0" width="14" height="14" patternUnits="userSpaceOnUse">
                            <circle cx="7" cy="7" r="3.5" fill="#c7d2fe" fill-opacity="0.8" />
                        </pattern>

                        <!-- Flow Gradient -->
                        <linearGradient id="flowGrad" x1="0" y1="0" x2="1" y2="0">
                            <stop offset="0%" stop-color="#818cf8" stop-opacity="0" />
                            <stop offset="50%" stop-color="#ffffff" stop-opacity="1" />
                            <stop offset="100%" stop-color="#6366f1" stop-opacity="0" />
                        </linearGradient>

                        <!-- Detailed US Map Silhouette -->
                        <path id="us-shape" d="
                    M 70,60 
                    L 350,50 
                    L 450,110 
                    L 550,90 
                    L 650,40 
                    L 740,30 
                    L 760,100 
                    L 720,130 
                    L 750,180 
                    L 700,280 
                    L 680,420 
                    L 600,400 
                    L 500,420 
                    L 450,450 
                    L 400,420 
                    L 350,440 
                    L 250,380 
                    L 150,370 
                    L 80,410 
                    L 40,320 
                    L 20,150 
                    L 70,60 
                    Z" />

                        <clipPath id="us-clip">
                            <use href="#us-shape" />
                        </clipPath>
                    </defs>

                    <!-- Map Body (Texture) -->
                    <g clip-path="url(#us-clip)">
                        <rect width="800" height="500" fill="url(#halftone)" />
                    </g>

                    <!-- Strong Map Outline -->
                    <use href="#us-shape" stroke="#a5b4fc" stroke-width="2.5" stroke-opacity="0.9" fill="none"
                        filter="drop-shadow(0 0 4px #4f46e5)" />

                    <!-- --- Story Elements --- -->

                    <!-- Origin: SF (West) -->
                    <g transform="translate(45, 230)">
                        <!-- Pulse Ring -->
                        <circle r="15" stroke="#ffffff" stroke-width="1" opacity="0">
                            <animate attributeName="r" values="6;20" dur="2.5s" repeatCount="indefinite" />
                            <animate attributeName="opacity" values="0.8;0" dur="2.5s" repeatCount="indefinite" />
                        </circle>
                        <!-- Solid Node -->
                        <circle r="6" fill="#ffffff">
                            <animate attributeName="r" values="6;8;6" dur="2.5s" repeatCount="indefinite" />
                        </circle>
                    </g>

                    <!-- Destination: Austin (Central/South) -->
                    <g transform="translate(380, 400)">
                        <circle r="5" fill="#a5b4fc">
                            <animate attributeName="fill" values="#a5b4fc;#ffffff;#a5b4fc" dur="3s"
                                repeatCount="indefinite" />
                        </circle>
                    </g>

                    <!-- Destination: NYC (East) -->
                    <g transform="translate(710, 140)">
                        <circle r="5" fill="#a5b4fc">
                            <animate attributeName="fill" values="#a5b4fc;#ffffff;#a5b4fc" dur="3s" begin="1s"
                                repeatCount="indefinite" />
                        </circle>
                    </g>


                    <!-- Path 1: SF -> Austin -->
                    <path id="pathSF-AUS" d="M45,230 Q200,300 380,400" stroke="url(#flowGrad)" stroke-width="2"
                        fill="none" stroke-linecap="round" stroke-dasharray="8 8" opacity="0.6" />

                    <!-- Moving Particle 1 -->
                    <circle r="4" fill="#ffffff" filter="drop-shadow(0 0 4px white)">
                        <animateMotion dur="4s" repeatCount="indefinite" rotate="auto">
                            <mpath href="#pathSF-AUS" />
                        </animateMotion>
                        <animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite" />
                    </circle>


                    <!-- Path 2: SF -> NYC (Cross Country) -->
                    <path id="pathSF-NYC" d="M45,230 Q380,100 710,140" stroke="url(#flowGrad)" stroke-width="2"
                        fill="none" stroke-linecap="round" stroke-dasharray="8 8" opacity="0.6" />

                    <!-- Moving Particle 2 -->
                    <circle r="4" fill="#ffffff" filter="drop-shadow(0 0 4px white)">
                        <animateMotion dur="6s" repeatCount="indefinite" rotate="auto" begin="1s">
                            <mpath href="#pathSF-NYC" />
                        </animateMotion>
                        <animate attributeName="opacity" values="0;1;0" dur="6s" repeatCount="indefinite" begin="1s" />
                    </circle>

                </svg>
            </div>
            <div class="hero-content">
                <header class="landing-header animate-in">
                    <h1 class="landing-title">
                        Should you <span class="gradient-text">move</span>?<br>
                        Find the truth.
                    </h1>
                    <p class="landing-subtitle">
                        The reality-first comparison engine for your next career step.
                    </p>
                </header>
            </div>
        </div>

        <!-- Right Split: Action & Form -->
        <div class="split-right">
            <main class="journey-card animate-in delay-2">
                <form action="/start" method="get">
                    <!-- Shared Occupation Context -->
                    <div class="occupation-header">
                        <div class="form-group" style="text-align: center;">
                            <label class="form-label">Your Occupation</label>
                            <!-- Custom Autocomplete Wrapper -->
                            <div class="autocomplete-wrapper">
                                <input type="text" id="jobInput" name="job" class="form-input"
                                    placeholder="e.g. Software Engineer" autocomplete="off" style="text-align: center;"
                                    required>
                                <div id="jobDropdown" class="autocomplete-dropdown">
                                    <!-- Items injected by JS -->
                                </div>
                            </div>

                            <!-- Data Injection for JS -->
                            <script th:inline="javascript">
                                /*<![CDATA[*/
                                window.jobCategories = /*[[${jobsByCategory}]]*/ {};
                                /*]]>*/
                            </script>
                        </div>
                    </div>

                    <div class="comparison-grid">
                        <!-- Current Status Section -->
                        <div class="comparison-column current-status">
                            <div class="column-header">
                                <h3>Current Status</h3>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Location</label>
                                <!-- Custom City A Autocomplete -->
                                <div class="autocomplete-wrapper">
                                    <input type="text" id="cityInputA" name="cityA" class="form-input"
                                        placeholder="e.g. San Francisco" autocomplete="off" required>
                                    <div id="cityDropdownA" class="autocomplete-dropdown"></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Gross Salary</label>
                                <input type="number" name="currentSalary" class="form-input" placeholder="120,000"
                                    required>
                            </div>
                        </div>

                        <!-- Flow Arrow -->
                        <div class="comparison-arrow">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M5 12h14M12 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </div>

                        <!-- New Offer Section -->
                        <div class="comparison-column new-offer">
                            <div class="column-header">
                                <h3>New Offer</h3>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Location</label>
                                <!-- Custom City B Autocomplete -->
                                <div class="autocomplete-wrapper">
                                    <input type="text" id="cityInputB" name="cityB" class="form-input"
                                        placeholder="e.g. Austin" autocomplete="off" required>
                                    <div id="cityDropdownB" class="autocomplete-dropdown"></div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Gross Salary</label>
                                <input type="number" name="offerSalary" class="form-input" placeholder="140,000"
                                    required>
                            </div>
                        </div>
                    </div>

                    <!-- Submit -->
                    <div class="submit-container">
                        <button type="submit" class="btn btn-premium btn-large">Compare Reality</button>
                        <p style="margin-top: 1.5rem; font-size: 0.85rem; color: var(--gray-400);">
                            Instant Verdict • No account required • Real IRS data
                        </p>
                    </div>

                    <!-- Unified Data Injection -->
                    <script th:inline="javascript">
                        /*<![CDATA[*/
                        window.jobCategories = /*[[${jobsByCategory}]]*/ {};
                        window.citiesByState = /*[[${citiesByState}]]*/ {};
                        /*]]>*/
                    </script>
                </form>
            </main>

            <footer class="footer animate-in delay-3">
                <div style="margin-bottom: 0.8rem; display: flex; justify-content: center; gap: 1.5rem;">
                    <a href="/about"
                        style="color: var(--gray-500); text-decoration: none; font-size: 0.85rem; font-weight: 600;">About</a>
                    <a href="/terms"
                        style="color: var(--gray-500); text-decoration: none; font-size: 0.85rem; font-weight: 600;">Terms</a>
                    <a href="/privacy"
                        style="color: var(--gray-500); text-decoration: none; font-size: 0.85rem; font-weight: 600;">Privacy</a>
                </div>
                <p style="color: var(--gray-400); font-size: 0.8rem;">© 2026 OfferVerdict. Know your worth.</p>
            </footer>
        </div>
    </div>
    <script src="/js/autocomplete.js"></script>
</body>

</html>